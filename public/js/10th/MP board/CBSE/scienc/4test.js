const questions = [

  
    {
      "num": 1,
      "question_en": "What is the SI unit of electric potential difference?",
      "question_hi": "विद्युत विभवांतर का SI मात्रक क्या है?",
      "options_en": ["Ampere", "Volt", "Ohm", "Watt"],
      "options_hi": ["एम्पियर", "वोल्ट", "ओम", "वाट"],
      "answer_en": "Volt",
      "answer_hi": "वोल्ट",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 2,
      "question_en": "The focal length of a convex lens is:",
      "question_hi": "एक उत्तल लेंस की फोकस दूरी होती है:",
      "options_en": ["Always negative", "Always positive", "Can be positive or negative", "Zero"],
      "options_hi": ["हमेशा नकारात्मक", "हमेशा सकारात्मक", "सकारात्मक या नकारात्मक हो सकती है", "शून्य"],
      "answer_en": "Always positive",
      "answer_hi": "हमेशा सकारात्मक",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 3,
      "question_en": "The device used to measure electric current is:",
      "question_hi": "विद्युत धारा मापने के लिए प्रयुक्त उपकरण है:",
      "options_en": ["Voltmeter", "Ammeter", "Galvanometer", "Ohmmeter"],
      "options_hi": ["वोल्टमीटर", "एमीटर", "गैल्वेनोमीटर", "ओममीटर"],
      "answer_en": "Ammeter",
      "answer_hi": "एमीटर",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 4,
      "question_en": "The resistivity of a conductor depends on:",
      "question_hi": "किसी चालक की प्रतिरोधकता निर्भर करती है:",
      "options_en": ["Length", "Area of cross-section", "Material", "Both length and area"],
      "options_hi": ["लंबाई", "अनुप्रस्थ काट का क्षेत्रफल", "पदार्थ", "लंबाई और क्षेत्रफल दोनों"],
      "answer_en": "Material",
      "answer_hi": "पदार्थ",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 5,
      "question_en": "In a convex mirror, the image formed is always:",
      "question_hi": "उत्तल दर्पण में, बनने वाला प्रतिबिंब हमेशा होता है:",
      "options_en": ["Real and inverted", "Virtual and erect", "Real and erect", "Virtual and inverted"],
      "options_hi": ["वास्तविक और उल्टा", "आभासी और सीधा", "वास्तविक और सीधा", "आभासी और उल्टा"],
      "answer_en": "Virtual and erect",
      "answer_hi": "आभासी और सीधा",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 16,
      "question_en": "Which of the following is a strong acid?",
      "question_hi": "निम्नलिखित में से कौन सा एक प्रबल अम्ल है?",
      "options_en": ["Acetic acid", "Citric acid", "Hydrochloric acid", "Carbonic acid"],
      "options_hi": ["एसिटिक अम्ल", "साइट्रिक अम्ल", "हाइड्रोक्लोरिक अम्ल", "कार्बोनिक अम्ल"],
      "answer_en": "Hydrochloric acid",
      "answer_hi": "हाइड्रोक्लोरिक अम्ल",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 17,
      "question_en": "What is the chemical formula of water?",
      "question_hi": "पानी का रासायनिक सूत्र क्या है?",
      "options_en": ["CO₂", "H₂O", "NH₃", "HCl"],
      "options_hi": ["CO₂", "H₂O", "NH₃", "HCl"],
      "answer_en": "H₂O",
      "answer_hi": "H₂O",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 18,
      "question_en": "The process of heating an ore strongly in the absence of air is called:",
      "question_hi": "अयस्क को हवा की अनुपस्थिति में तीव्रता से गर्म करने की प्रक्रिया कहलाती है:",
      "options_en": ["Roasting", "Calcination", "Smelting", "Leaching"],
      "options_hi": ["भर्जन", "निस्तापन", "प्रगलन", "निक्षालन"],
      "answer_en": "Calcination",
      "answer_hi": "निस्तापन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 19,
      "question_en": "Which non-metal is lustrous?",
      "question_hi": "कौन सा अधातु चमकीला होता है?",
      "options_en": ["Sulfur", "Phosphorus", "Iodine", "Carbon"],
      "options_hi": ["सल्फर", "फास्फोरस", "आयोडीन", "कार्बन"],
      "answer_en": "Iodine",
      "answer_hi": "आयोडीन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 20,
      "question_en": "The functional group of aldehydes is:",
      "question_hi": "एल्डिहाइड का कार्यात्मक समूह है:",
      "options_en": ["-OH", "-COOH", "-CHO", "-CO-"],
      "options_hi": ["-OH", "-COOH", "-CHO", "-CO-"],
      "answer_en": "-CHO",
      "answer_hi": "-CHO",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 21,
      "question_en": "The basic structural and functional unit of life is:",
      "question_hi": "जीवन की आधारभूत संरचनात्मक और कार्यात्मक इकाई है:",
      "options_en": ["Tissue", "Organ", "Cell", "Organ system"],
      "options_hi": ["ऊतक", "अंग", "कोशिका", "अंग तंत्र"],
      "answer_en": "Cell",
      "answer_hi": "कोशिका",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 22,
      "question_en": "Which part of the digestive system absorbs digested food?",
      "question_hi": "पाचन तंत्र का कौन सा भाग पचे हुए भोजन को अवशोषित करता है?",
      "options_en": ["Stomach", "Small intestine", "Large intestine", "Esophagus"],
      "options_hi": ["आमाशय", "छोटी आंत", "बड़ी आंत", "ग्रासनली"],
      "answer_en": "Small intestine",
      "answer_hi": "छोटी आंत",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 23,
      "question_en": "The movement of water in plants against gravity is due to:",
      "question_hi": "पौधों में गुरुत्वाकर्षण के विपरीत जल की गति किसके कारण होती है?",
      "options_en": ["Osmosis", "Transpiration pull", "Root pressure", "Photosynthesis"],
      "options_hi": ["परासरण", "वाष्पोत्सर्जन खिंचाव", "मूल दाब", "प्रकाश संश्लेषण"],
      "answer_en": "Transpiration pull",
      "answer_hi": "वाष्पोत्सर्जन खिंचाव",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 24,
      "question_en": "The process of fusion of male and female gametes is called:",
      "question_hi": "नर और मादा युग्मकों के संलयन की प्रक्रिया कहलाती है:",
      "options_en": ["Pollination", "Fertilization", "Germination", "Reproduction"],
      "options_hi": ["परागण", "निषेचन", "अंकुरण", "प्रजनन"],
      "answer_en": "Fertilization",
      "answer_hi": "निषेचन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 25,
      "question_en": "Which part of the human brain is responsible for memory?",
      "question_hi": "मानव मस्तिष्क का कौन सा भाग स्मृति के लिए जिम्मेदार है?",
      "options_en": ["Cerebrum", "Cerebellum", "Medulla", "Hypothalamus"],
      "options_hi": ["सेरेब्रम", "सेरेबेलम", "मेडुला", "हाइपोथैलेमस"],
      "answer_en": "Cerebrum",
      "answer_hi": "सेरेब्रम",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 26,
      "question_en": "Acid rain is mainly caused by oxides of:",
      "question_hi": "अम्ल वर्षा मुख्य रूप से किसके ऑक्साइड के कारण होती है?",
      "options_en": ["Carbon and nitrogen", "Sulfur and phosphorus", "Sulfur and nitrogen", "Phosphorus and carbon"],
      "options_hi": ["कार्बन और नाइट्रोजन", "सल्फर और फास्फोरस", "सल्फर और नाइट्रोजन", "फास्फोरस और कार्बन"],
      "answer_en": "Sulfur and nitrogen",
      "answer_hi": "सल्फर और नाइट्रोजन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 27,
      "question_en": "Deforestation leads to:",
      "question_hi": "वनोन्मूलन से होता है:",
      "options_en": ["Increased rainfall", "Soil conservation", "Soil erosion", "Cooling of the environment"],
      "options_hi": ["बढ़ी हुई वर्षा", "मृदा संरक्षण", "मृदा अपरदन", "वातावरण का ठंडा होना"],
      "answer_en": "Soil erosion",
      "answer_hi": "मृदा अपरदन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 28,
      "question_en": "The increase in the concentration of non-biodegradable pollutants in successive trophic levels is called:",
      "question_hi": "उत्तरोत्तर पोषण स्तरों में गैर-जैव निम्नीकरणीय प्रदूषकों की सांद्रता में वृद्धि कहलाती है:",
      "options_en": ["Biomagnification", "Bioaccumulation", "Eutrophication", "Pollution"],
      "options_hi": ["जैव आवर्धन", "जैव संचय", "सुपोषण", "प्रदूषण"],
      "answer_en": "Biomagnification",
      "answer_hi": "जैव आवर्धन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 29,
      "question_en": "The depletion of the ozone layer is mainly caused by:",
      "question_hi": "ओजोन परत का क्षरण मुख्य रूप से किसके कारण होता है?",
      "options_en": ["Carbon dioxide", "Methane", "Chlorofluorocarbons", "Nitrogen dioxide"],
      "options_hi": ["कार्बन डाइऑक्साइड", "मीथेन", "क्लोरोफ्लोरोकार्बन", "नाइट्रोजन डाइऑक्साइड"],
      "answer_en": "Chlorofluorocarbons",
      "answer_hi": "क्लोरोफ्लोरोकार्बन",
      "attempted": false,
      "selected": ""
    },
    {
      "num": 30,
      "question_en": "Which of the following is a non-biodegradable pollutant?",
      "question_hi": "निम्नलिखित में से कौन सा एक गैर-जैव निम्नीकरणीय प्रदूषक है?",
      "options_en": ["Paper", "Sewage", "Plastic", "Food waste"],
      "options_hi": ["कागज", "मलजल", "प्लास्टिक", "खाद्य अपशिष्ट"],
      "answer_en": "Plastic",
      "answer_hi": "प्लास्टिक",
      "attempted": false,
      "selected": ""
    }
  
  


];
    

// Add more questions as needed...

let currentQuestion = 0;
let language = "en"; // Default English
const circlesPerPage = 70;
let currentCirclePage = 0;
let timeLeft = 300;
let timerInterval;

function loadQuestion(index) {
    const questionText = language === "en" ? questions[index].question_en : questions[index].question_hi;
    const optionsArray = language === "en" ? questions[index].options_en : questions[index].options_hi;

    document.getElementById("question").textContent = `${questions[index].num}. ${questionText}`;
    document.getElementById("questionCounter").textContent = `Question ${index + 1} of ${questions.length}`;

    const optionsElement = document.getElementById("options");
    optionsElement.innerHTML = "";

    optionsArray.forEach(option => {
        optionsElement.innerHTML += `<li><input type="radio" name="option" value="${option}" onclick="markAttempted(${index}, '${option}')"> ${option}</li>`;
    });

    updateCircles();
}

function markAttempted(index, selectedAnswer) {
    questions[index].attempted = true;
    questions[index].selected = selectedAnswer;
    updateCircles();
}

function nextQuestion() {
    if (currentQuestion < questions.length - 1) {
        currentQuestion++;
        loadQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 0) {
        currentQuestion--;
        loadQuestion(currentQuestion);
    }
}

function updateCircles() {
    const circleContainer = document.getElementById("circleContainer");
    circleContainer.innerHTML = "";
    const start = currentCirclePage * circlesPerPage;
    const end = Math.min(start + circlesPerPage, questions.length);

    for (let i = start; i < end; i++) {
        const q = questions[i];
        let status = i === currentQuestion ? "active" : q.attempted ? "answered" : "not-attempted";
        circleContainer.innerHTML += `<div class="circle ${status}" onclick="jumpToQuestion(${i})">${i + 1}</div>`;
    }
}

function jumpToQuestion(index) {
    currentQuestion = index;
    loadQuestion(index);
}

function prevCirclePage() {
    if (currentCirclePage > 0) {
        currentCirclePage--;
        updateCircles();
    }
}

function nextCirclePage() {
    if ((currentCirclePage + 1) * circlesPerPage < questions.length) {
        currentCirclePage++;
        updateCircles();
    }
}

function changeLanguage() {
    language = document.getElementById("languageSelect").value;
    loadQuestion(currentQuestion);
}

function submitQuiz() {
  let confirmation = confirm("Are you sure you want to submit the test?");
  if (!confirmation) return;

  let attempted = 0, notAttempted = 0, score = 0;
  const results = [];

  questions.forEach(q => {
      const correctAnswer = language === "en" ? q.answer_en : q.answer_hi;
      if (q.attempted) {
          attempted++;
          if (q.selected === correctAnswer) score++;
      } else {
          notAttempted++;
      }
      results.push({ 
          question: language === "en" ? q.question_en : q.question_hi,
          selected: q.selected || "Not Answered", 
          correct: correctAnswer 
      });
  });

  localStorage.setItem("attempted", attempted);
  localStorage.setItem("notAttempted", notAttempted);
  localStorage.setItem("score", score);
  localStorage.setItem("results", JSON.stringify(results));

  let viewResult = confirm("Test submitted successfully! Do you want to view your result?");
  if (viewResult) {
      window.location.href = "/Deshbord/category/test/submit-test.html";
  }
}

function startTimer() {
    const timerElement = document.getElementById("timer");
    timerInterval = setInterval(() => {
        if (timeLeft <= 0) {
            clearInterval(timerInterval);
            alert("Time's up! Submitting the quiz automatically.");
            submitQuiz();
        } else {
            timerElement.textContent = timeLeft;
            timeLeft--;
        }
    }, 1000);
}

window.onload = function () {
    startTimer();
    loadQuestion(currentQuestion);
};